<div class="pd-Container">
    
<div class="introduction">
      <h1>ARCLAB</h1>
      <div class="services">
        <p class="intro">
          We are a team of architectural technicians and professional surveyors specialising in advanced 3D surveying &amp; as-built documentation. We work directly with architects, interior designers &amp; engineers.
        </p>

        <ul class="services-list">
                      <li><span>+</span> Laser Scanning</li>
                      <li><span>+</span> Land Surveying</li>
                      <li><span>+</span> BIM As-Builts (Archicad / Revit)</li>
                      <li><span>+</span> Drone Surveys</li>
                  </ul>
      </div>

      <div class="contact-details">
        <div class="col">
          <p class="email"><a>contact@arclab.works</a></p>
          <p class="phone"><a>+64 21 251 3205</a></p>
        </div>

        <div class="col">
          <p class="addr">478 K Road<br>
Auckland NZ</p>
        </div>
      </div>
</div>

<div class="create-account-form">
    <h3 align="left"><a href="./login" style="color: white;text-decoration:none">‚Üê Back</a></h3>
    <h2>Register</h2>
    {{#if message}}
    <h3>{{message}}</h3>
    {{/if}}
        <form action="./newAccount" method="POST">
            <div class="err-msg hidden" id="error_message">This Email Already Registered</div>
            <div class="flex-col mb">
                <input type="text" name="username" id="txtUsername" placeholder="Email" required>
            </div>

            <div class="flex-col mb">
                <input type="text" name="realname" id="txtrealname" placeholder="Comapny name" required>
            </div>

            <div class="flex-col mb">
                <input type="password" name="password" id="txtPassword" placeholder="Password" required>
            </div>

            <div class="flex-col mb">
                <input type="password" name="confirmPassword" id="txtConfirmPassword" placeholder="Confirm your password" required>
            </div>

            <div class="flex-row justify-sb align-center">
                <button class="signup-btn" type="submit" style="cursor: pointer">Register</button>
            </div>
        </form>
    </div>
</div>

<script>
    const new_account = document.getElementById('new_account');
    const txtUsername = document.getElementById('txtUsername');
    const error_message = document.getElementById('error_message');
    txtUsername.addEventListener('input', function(event) {
        const username = event.target.value;
        fetch('./checkUsername?username=' + username)
                .then(res => {
                    if (res.status !== 200) {
                        error_message.classList.remove('hidden');
                    } else {
                        error_message.classList.add('hidden');
                    }
                });
    });
</script>
